<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="None">
        
        
        <link rel="shortcut icon" href="img/favicon.ico">
        <title>hfsynpy Documentation</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/fontawesome.min.css" rel="stylesheet">
        <link href="css/brands.min.css" rel="stylesheet">
        <link href="css/solid.min.css" rel="stylesheet">
        <link href="css/v4-font-face.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="assets/_mkdocstrings.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body class="homepage">
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href=".">hfsynpy Documentation</a>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#hfsynpy" class="nav-link">hfsynpy</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#functional-api-overview" class="nav-link">Functional API Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#microstrip-synthesis-and-analysis-example" class="nav-link">Microstrip Synthesis and Analysis Example</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#synthesize_microstrip" class="nav-link">synthesize_microstrip</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#analyze_microstrip" class="nav-link">analyze_microstrip</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#attribution" class="nav-link">Attribution</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="hfsynpy">hfsynpy</h1>
<p>A Python package for high-frequency (HF) microstrip synthesis and analysis.</p>
<p>This package provides tools for the synthesis and analysis of microstrip transmission lines, using the same models as KiCad. Results are generally valid up to 40 GHz, but always verify with full-wave simulation tools for critical designs.</p>
<hr />
<h2 id="functional-api-overview">Functional API Overview</h2>
<p>This package provides two main functions for microstrip design:</p>
<ul>
<li><strong>synthesize_microstrip</strong>: Synthesize the required trace width for a target impedance.</li>
<li><strong>analyze_microstrip</strong>: Analyze the electrical properties for a given trace width.</li>
</ul>
<p>Both functions return results as dataclasses for clarity and type safety.</p>
<hr />
<h2 id="microstrip-synthesis-and-analysis-example">Microstrip Synthesis and Analysis Example</h2>
<p>This example demonstrates how to use the functional API of <code>hfsynpy</code> for microstrip synthesis and analysis, including the new features:
- Input of electrical angle in degrees for synthesis
- Input of physical length for analysis
- Output of phase shift (angle) in degrees for a given length
- All attenuation values are always per meter (dB/m)</p>
<h3 id="synthesize-microstrip-for-target-impedance-and-angle">Synthesize Microstrip for Target Impedance and Angle</h3>
<pre><code class="language-python">from hfsynpy import synthesize_microstrip, analyze_microstrip

# Synthesize width for target Z0 and electrical angle (degrees)
syn_result = synthesize_microstrip(
    eps_r=3.66,        # Relative permittivity
    tand=0.0037,       # Loss tangent
    h=1.524e-3,        # Substrate height (1.524 mm)
    t=35e-6,           # Copper thickness (35 um)
    rough=0e-6,        # Surface roughness (0 um)
    sigma=1 / (1.72e-8), # Copper conductivity (5.814e7 S/m)
    mur=1.0,           # Relative permeability (substrate)
    murc=1.0,          # Relative permeability (conductor)
    frequency=2.45e9,  # Frequency (2.45 GHz)
    z0_target=50.0,    # Target impedance (ohms)
    ang_l_target=30.0, # Target angle for length synthesis (degrees)
)
print(f&quot;Synthesized width: {syn_result.width * 1e3:.4f} mm&quot;)
print(f&quot;Effective permittivity: {syn_result.epsilon_eff:.4f}&quot;)
print(f&quot;Skin depth: {syn_result.skin_depth * 1e6:.4f} um&quot;)
print(f&quot;Conductor attenuation: {syn_result.atten_cond:.4f} dB/m&quot;)
print(f&quot;Dielectric attenuation: {syn_result.atten_diel:.4f} dB/m&quot;)
print(f&quot;Physical length: {syn_result.length * 1e3:.4f} mm&quot;)
</code></pre>
<h3 id="analyze-microstrip-for-given-width-and-length">Analyze Microstrip for Given Width and Length</h3>
<pre><code class="language-python">ana_result = analyze_microstrip(
    width=0.79e-3,     # Trace width (0.79 mm)
    eps_r=3.66,
    tand=0.0037,
    h=1.524e-3,
    t=35e-6,
    rough=0e-6,
    sigma=1 / (1.72e-8),
    mur=1.0,
    murc=1.0,
    frequency=2.45e9,
    length=50e-3,      # Physical length (50 mm)
)
print(f&quot;Characteristic impedance: {ana_result.Z0_0:.4f} ohms&quot;)
print(f&quot;Effective permittivity: {ana_result.epsilon_eff:.4f}&quot;)
print(f&quot;Skin depth: {ana_result.skin_depth * 1e6:.4f} um&quot;)
print(f&quot;Conductor attenuation: {ana_result.atten_cond:.4f} dB/m&quot;)
print(f&quot;Dielectric attenuation: {ana_result.atten_diel:.4f} dB/m&quot;)
print(f&quot;Angle shift: {ana_result.angle_deg:.4f} degrees&quot;)
</code></pre>
<hr />
<h2 id="synthesize_microstrip">synthesize_microstrip</h2>
<p>Synthesize the required microstrip width for a target impedance.</p>
<h3 id="parameters">Parameters</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Unit</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>eps_r</td>
<td>float</td>
<td>required</td>
<td>-</td>
<td>Relative permittivity (dielectric constant) of the substrate.</td>
</tr>
<tr>
<td>tand</td>
<td>float</td>
<td>required</td>
<td>-</td>
<td>Loss tangent of the substrate.</td>
</tr>
<tr>
<td>h</td>
<td>float</td>
<td>required</td>
<td>m</td>
<td>Height of the substrate.</td>
</tr>
<tr>
<td>t</td>
<td>float</td>
<td>required</td>
<td>m</td>
<td>Thickness of the conductor.</td>
</tr>
<tr>
<td>rough</td>
<td>float</td>
<td>required</td>
<td>m</td>
<td>Surface roughness of the conductor.</td>
</tr>
<tr>
<td>sigma</td>
<td>float</td>
<td>required</td>
<td>S/m</td>
<td>Electrical conductivity of the conductor.</td>
</tr>
<tr>
<td>mur</td>
<td>float</td>
<td>required</td>
<td>-</td>
<td>Relative permeability of the substrate.</td>
</tr>
<tr>
<td>murc</td>
<td>float</td>
<td>required</td>
<td>-</td>
<td>Relative permeability of the conductor.</td>
</tr>
<tr>
<td>frequency</td>
<td>float</td>
<td>required</td>
<td>Hz</td>
<td>Frequency of operation.</td>
</tr>
<tr>
<td>z0_target</td>
<td>float</td>
<td>required</td>
<td>Ω</td>
<td>Target characteristic impedance for synthesis.</td>
</tr>
<tr>
<td>ang_l_target</td>
<td>float</td>
<td>None</td>
<td>rad</td>
<td>Target electrical length for synthesis.</td>
</tr>
<tr>
<td>h_top</td>
<td>float</td>
<td>1e20</td>
<td>m</td>
<td>Height to top ground plane (very large for single ground plane).</td>
</tr>
</tbody>
</table>
<h3 id="returns">Returns</h3>
<p>A <code>MicrostripSynthesisResult</code> dataclass:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Unit</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>width</td>
<td>float</td>
<td>m</td>
<td>Synthesized trace width.</td>
</tr>
<tr>
<td>epsilon_eff</td>
<td>float</td>
<td>-</td>
<td>Effective relative permittivity.</td>
</tr>
<tr>
<td>skin_depth</td>
<td>float</td>
<td>m</td>
<td>Skin depth of the conductor.</td>
</tr>
<tr>
<td>atten_cond</td>
<td>float</td>
<td>dB/m</td>
<td>Conductor attenuation per meter.</td>
</tr>
<tr>
<td>atten_diel</td>
<td>float</td>
<td>dB/m</td>
<td>Dielectric attenuation per meter.</td>
</tr>
<tr>
<td>length</td>
<td>float</td>
<td>m</td>
<td>Physical length to reach the target angle.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="analyze_microstrip">analyze_microstrip</h2>
<p>Analyze a microstrip line for given geometry and material parameters.</p>
<h3 id="parameters_1">Parameters</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Unit</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>width</td>
<td>float</td>
<td>required</td>
<td>m</td>
<td>Trace width.</td>
</tr>
<tr>
<td>eps_r</td>
<td>float</td>
<td>required</td>
<td>-</td>
<td>Relative permittivity (dielectric constant) of the substrate.</td>
</tr>
<tr>
<td>tand</td>
<td>float</td>
<td>required</td>
<td>-</td>
<td>Loss tangent of the substrate.</td>
</tr>
<tr>
<td>h</td>
<td>float</td>
<td>required</td>
<td>m</td>
<td>Height of the substrate.</td>
</tr>
<tr>
<td>t</td>
<td>float</td>
<td>required</td>
<td>m</td>
<td>Thickness of the conductor.</td>
</tr>
<tr>
<td>rough</td>
<td>float</td>
<td>required</td>
<td>m</td>
<td>Surface roughness of the conductor.</td>
</tr>
<tr>
<td>sigma</td>
<td>float</td>
<td>required</td>
<td>S/m</td>
<td>Electrical conductivity of the conductor.</td>
</tr>
<tr>
<td>mur</td>
<td>float</td>
<td>required</td>
<td>-</td>
<td>Relative permeability of the substrate.</td>
</tr>
<tr>
<td>murc</td>
<td>float</td>
<td>required</td>
<td>-</td>
<td>Relative permeability of the conductor.</td>
</tr>
<tr>
<td>frequency</td>
<td>float</td>
<td>required</td>
<td>Hz</td>
<td>Frequency of operation.</td>
</tr>
<tr>
<td>ang_l_target</td>
<td>float</td>
<td>None</td>
<td>rad</td>
<td>Target electrical length for analysis.</td>
</tr>
<tr>
<td>h_top</td>
<td>float</td>
<td>1e20</td>
<td>m</td>
<td>Height to top ground plane (very large for single ground plane).</td>
</tr>
</tbody>
</table>
<h3 id="returns_1">Returns</h3>
<p>A <code>MicrostripAnalysisResult</code> dataclass:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Unit</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>epsilon_eff</td>
<td>float</td>
<td>-</td>
<td>Effective relative permittivity.</td>
</tr>
<tr>
<td>skin_depth</td>
<td>float</td>
<td>m</td>
<td>Skin depth of the conductor.</td>
</tr>
<tr>
<td>atten_cond</td>
<td>float</td>
<td>dB/m</td>
<td>Conductor attenuation per meter.</td>
</tr>
<tr>
<td>atten_diel</td>
<td>float</td>
<td>dB/m</td>
<td>Dielectric attenuation per meter.</td>
</tr>
<tr>
<td>Z0_0</td>
<td>float</td>
<td>Ω</td>
<td>Characteristic impedance.</td>
</tr>
<tr>
<td>angle_deg</td>
<td>float</td>
<td>deg</td>
<td>Phase shift for the given length.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="attribution">Attribution</h2>
<p>This package is part of a Python translation of KiCad's C++ source code.</p>
<p>Original C++ code:
- © 2001 Gopal Narayanan <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#103;&#111;&#112;&#97;&#108;&#64;&#97;&#115;&#116;&#114;&#111;&#46;&#117;&#109;&#97;&#115;&#115;&#46;&#101;&#100;&#117;">&#103;&#111;&#112;&#97;&#108;&#64;&#97;&#115;&#116;&#114;&#111;&#46;&#117;&#109;&#97;&#115;&#115;&#46;&#101;&#100;&#117;</a>
- © 2002 Claudio Girardi <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#99;&#108;&#97;&#117;&#100;&#105;&#111;&#46;&#103;&#105;&#114;&#97;&#114;&#100;&#105;&#64;&#105;&#101;&#101;&#101;&#46;&#111;&#114;&#103;">&#99;&#108;&#97;&#117;&#100;&#105;&#111;&#46;&#103;&#105;&#114;&#97;&#114;&#100;&#105;&#64;&#105;&#101;&#101;&#101;&#46;&#111;&#114;&#103;</a>
- © 2005, 2006 Stefan Jahn <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#116;&#101;&#102;&#97;&#110;&#64;&#108;&#107;&#99;&#99;&#46;&#111;&#114;&#103;">&#115;&#116;&#101;&#102;&#97;&#110;&#64;&#108;&#107;&#99;&#99;&#46;&#111;&#114;&#103;</a>
- Modified for KiCad: 2018 Jean-Pierre Charras <jp.charras at wanadoo.fr>
- © The KiCad Developers, see AUTHORS.txt for contributors.</p>
<p>Python translation and modifications:
- © 2025 Dominik Mair <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#111;&#109;&#105;&#110;&#105;&#107;&#46;&#109;&#97;&#105;&#114;&#64;&#117;&#105;&#98;&#107;&#46;&#97;&#99;&#46;&#97;&#116;">&#100;&#111;&#109;&#105;&#110;&#105;&#107;&#46;&#109;&#97;&#105;&#114;&#64;&#117;&#105;&#98;&#107;&#46;&#97;&#99;&#46;&#97;&#116;</a></p>
<p>This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = ".",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="js/base.js"></script>
        <script src="search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

<!--
MkDocs version : 1.6.1
Build Date UTC : 2025-05-26 16:16:40.002117+00:00
-->
